!function(t){t(window).on("elementor/frontend/init",function(){if("undefined"!=typeof elementorFrontend&&elementorFrontend){var e=elementorModules.frontend.handlers.Base,n=elementorFrontend.config.responsive.activeBreakpoints;if("undefined"!=typeof gsap){var i=gsap.matchMedia();"undefined"!=typeof ScrollTrigger&&gsap.registerPlugin(ScrollTrigger);var r=e.extend({bindEvents:function(){this.run()},run:function(){var t=this;"widget"===this.getElementType()&&(this.isEdit?this.text_animation():document.fonts.ready.then(function(){t.text_animation()}))},text_animation:function(){var e=this;if(!this.isEdit||this.getElementSettings("wk_text_animation_editor")){var r="all";if(this.getElementSettings("text_animation_breakpoint")){var s=n[this.getElementSettings("text_animation_breakpoint")].value,a=this.getElementSettings("text_breakpoint_min_max");r="min"===a?"min-width: "+s+"px":"max-width: "+s+"px"}if("char"===this.getElementSettings("wk_text_animation")||"word"===this.getElementSettings("wk_text_animation")){var l=this.getElementSettings("text_duration"),o=this.getElementSettings("text_stagger"),g=this.getElementSettings("text_translate_x"),c=this.getElementSettings("text_translate_y"),m=this.getElementSettings("text_on_scroll"),d=this.getElementSettings("text_delay"),h=this.getElementSettings("spin_text_scrub"),p=this.findElement(".elementor-widget-container").children().length,_=t(this.findElement(".elementor-widget-container").children()[p-1]);h="number"==typeof h?this.getElementSettings("wk_pin_scrub_number"):"yes"===h;var f={duration:l,autoAlpha:0,delay:d,stagger:o};g&&(f.x=g),c&&(f.y=c),m&&(f.scrollTrigger={trigger:_,start:"top 80%",scrub:h}),document.fonts.ready.then(function(){var t=new SplitText(_[0],{type:"chars, words"}),n=t.chars;"word"===e.getElementSettings("wk_text_animation")&&(n=t.words),"all"===r?gsap.from(n,f):i.add("("+r+")",function(){gsap.from(n,f)})})}else if("text_move"===this.getElementSettings("wk_text_animation")){var u=this.getElementSettings("text_duration"),x=this.getElementSettings("text_delay"),S=this.getElementSettings("text_stagger"),E=this.getElementSettings("text_on_scroll"),y=this.getElementSettings("text_rotation_di"),w=this.getElementSettings("text_rotation"),v=this.getElementSettings("spin_text_scrub"),b=this.getElementSettings("text_transform_origin"),k={};p=this.findElement(".elementor-widget-container").children().length;(_=t(this.findElement(".elementor-widget-container").children()[p-1])).hasClass("wk--text")&&_.children().length&&(_=_.children()),v="number"==typeof v?this.getElementSettings("wk_pin_scrub_number"):"yes"===v;f={duration:u,delay:x,opacity:0,force3D:!0,transformOrigin:b,stagger:S};if("x"===y?f.rotationX=w:"y"===y&&(f.rotationY=w),E&&(k.scrollTrigger={trigger:_,duration:2,start:"top 90%",end:"bottom 60%",scrub:v,toggleActions:"play none none none"}),"all"===r){var T=gsap.timeline(k),F=new SplitText(_,{type:"lines"});gsap.set(_,{perspective:400}),F.split({type:"lines"}),T.from(F.lines,f)}else i.add("("+r+")",function(){var t=gsap.timeline(k),e=new SplitText(_,{type:"lines"});return gsap.set(_,{perspective:400}),e.split({type:"lines"}),t.from(e.lines,f),function(){e.revert(),t.revert()}})}else if("text_reveal"===this.getElementSettings("wk_text_animation")){var A=this.getElementSettings("text_duration"),C=this.getElementSettings("text_on_scroll"),H=this.getElementSettings("text_stagger"),O=this.getElementSettings("text_delay"),X=this.getElementSettings("spin_text_scrub");p=this.findElement(".elementor-widget-container").children().length,_=t(this.findElement(".elementor-widget-container").children()[p-1]);X="number"==typeof X?this.getElementSettings("wk_pin_scrub_number"):"yes"===X;F=new SplitText(_,{type:"lines,words,chars",linesClass:"anim-reveal-line"});var M={duration:A,delay:O,ease:"circ.out",y:80,stagger:H,opacity:0};C&&(M.scrollTrigger={trigger:_,start:"top 85%",scrub:X}),"all"===r?gsap.from(F.chars,M):i.add("("+r+")",function(){return gsap.from(F.chars,M),function(){F.revert()}})}else if("text_invert"===this.getElementSettings("wk_text_animation")){p=this.findElement(".elementor-widget-container").children().length;var P=(_=t(this.findElement(".elementor-widget-container").children()[p-1])).css("color");if(P=(P=function(t,e,n){t/=255,e/=255,n/=255;var i=Math.max(t,e,n),r=Math.min(t,e,n),s=i-r,a=0;s&&(a=i===t?(e-n)/s:i===e?2+(n-t)/s:4+(t-e)/s,(a*=60)<0&&(a+=360));var l=(i+r)/2,o=s?l<=.5?s/(2*l):s/(2-2*l):0;return[a.toFixed(1),(100*o).toFixed(1)+"%",(100*l).toFixed(1)+"%"]}((P=P.toString().match(/(\d+)/g))[0],P[1],P[2]))[0]+", "+P[1]+", "+P[2],_.css("--text-color",P),"all"===r)(F=new SplitText(_,{type:"lines",linesClass:"invert-line"})).lines.forEach(function(t){gsap.to(t,{backgroundPositionX:0,ease:"none",scrollTrigger:{trigger:t,scrub:1,start:"top 85%",end:"bottom center"}})});else i.add("("+r+")",function(){var t=new SplitText(_,{type:"lines",linesClass:"invert-line"});return t.lines.forEach(function(t){gsap.to(t,{backgroundPositionX:0,ease:"none",scrollTrigger:{trigger:t,scrub:1,start:"top 85%",end:"bottom center"}})}),function(){t.revert()}})}else if("text_spin"===this.getElementSettings("wk_text_animation")){var $=function(){var n=e.getElementSettings("text_on_scroll"),i=e.findElement(".elementor-widget-container").children().length,r=t(e.findElement(".elementor-widget-container").children()[i-1]),s=r[0].cloneNode(!0);t(s).addClass("duplicate-text"),r.css({perspective:"600px","white-space":"nowrap"}),t(s).css({perspective:"600px","white-space":"nowrap"});var a=e.findElement(".elementor-widget-container")[0];if(r.after(s),gsap.set(s,{yPercent:-100}),a.originalSplit=SplitText.create(r,{type:"chars"}),a.cloneSplit=SplitText.create(s,{type:"chars"}),n){var l={trigger:e.$element,animation:j(a),invalidateOnRefresh:!0},o={start:e.getElementSettings("spin_text_start"),end:e.getElementSettings("spin_text_end"),scrub:"yes"===e.getElementSettings("spin_text_scrub"),toggleActions:e.getElementSettings("spin_text_toggle_action")};Object.assign(l,o),ScrollTrigger.create(l)}else j(a)},j=function(t){var n=e.getElementSettings("text_delay"),i={each:.03,ease:"power1",from:"start"};gsap.set(t.cloneSplit.chars,{opacity:0});var r=gsap.timeline();return r.set(t.cloneSplit.chars,{rotationX:-90,transformOrigin:function(){return"50% 50% -"+t.offsetHeight/2}}),r.to(t.originalSplit.chars,{delay:n,duration:.4,rotationX:90,transformOrigin:function(){return"50% 50% -"+t.offsetHeight/2},stagger:i}),r.to(t.originalSplit.chars,{duration:.4,delay:n,opacity:0,stagger:i,ease:"power2.in"},0),r.to(t.cloneSplit.chars,{duration:.001,delay:n,opacity:1,stagger:i},.001),r.to(t.cloneSplit.chars,{duration:.4,delay:n,rotationX:0,stagger:i},0),r};"all"===r?$():i.add("("+r+")",function(){$()})}else if("text_scale"===this.getElementSettings("wk_text_animation")){var B=this.getElementSettings("text_delay"),D=this.getElementSettings("text_duration"),N=this.getElementSettings("text_on_scroll"),Q=this.getElementSettings("text_stagger"),R=this.getElementSettings("text_scale_num"),Y=this.getElementSettings("spin_text_scrub"),q=this.getElementSettings("scale_text_ease"),z=this.getElementSettings("text_scale_break");_=this.findElement(".elementor-widget-container").find(":not(span.highlight)").last()[0];Y="number"==typeof Y?this.getElementSettings("wk_pin_scrub_number"):"yes"===Y;var G=(F=new SplitText(_,{type:"lines words chars",linesClass:"text-scale-anim"}))[z];if(!G.length)return;var I={duration:D,autoAlpha:0,scale:R,stagger:Q,transformOrigin:"50% 0%",ease:q,delay:B};N&&(I.scrollTrigger={trigger:_,start:"top 85%",scrub:Y}),"all"===r?gsap.from(G,I):i.add("("+r+")",function(){return gsap.from(G,I),function(){F.revert()}})}}}});elementorFrontend.hooks.addAction("frontend/element_ready/widget",function(t){elementorFrontend.elementsHandler.addHandler(r,{$element:t})}),elementorFrontend.hooks.addAction("frontend/element_ready/container",function(t){elementorFrontend.elementsHandler.addHandler(r,{$element:t})})}}})}(jQuery);