!function(t){t(window).on("elementor/frontend/init",function(){if("undefined"!=typeof elementorFrontend&&elementorFrontend){var e=elementorModules.frontend.handlers.Base,n=elementorFrontend.config.responsive.activeBreakpoints;if("undefined"!=typeof gsap){var i=gsap.matchMedia();"undefined"!=typeof ScrollTrigger&&gsap.registerPlugin(ScrollTrigger);var r=e.extend({bindEvents:function(){this.run()},run:function(){var t=this;"widget"===this.getElementType()&&(this.isEdit?this.text_animation():document.fonts.ready.then(function(){t.text_animation()}))},text_animation:function(){var e=this;if(!this.isEdit||this.getElementSettings("wk_text_animation_editor")){var r="all";if(this.getElementSettings("text_animation_breakpoint")){var s=n[this.getElementSettings("text_animation_breakpoint")].value,a=this.getElementSettings("text_breakpoint_min_max");r="min"===a?"min-width: "+s+"px":"max-width: "+s+"px"}if("char"===this.getElementSettings("wk_text_animation")||"word"===this.getElementSettings("wk_text_animation")){this.getElementSettings("text_duration"),this.getElementSettings("text_stagger");var l=this.getElementSettings("text_translate_x"),o=this.getElementSettings("text_translate_y"),g=this.getElementSettings("text_on_scroll"),c=(this.getElementSettings("text_delay"),this.getElementSettings("spin_text_scrub")),m=this.findElement(".elementor-widget-container").children().length,d=t(this.findElement(".elementor-widget-container").children()[m-1]);c="number"==typeof c?this.getElementSettings("wk_pin_scrub_number"):"yes"===c;var h={duration:1,autoAlpha:0,stagger:.05};l&&(h.x=l),o&&(h.y=o),g&&(h.scrollTrigger={trigger:d,start:"top 80%",scrub:c}),document.fonts.ready.then(function(){var t=new SplitText(d[0],{type:"chars, words"}),n=t.chars;"word"===e.getElementSettings("wk_text_animation")&&(n=t.words),"all"===r?gsap.from(n,h):i.add("("+r+")",function(){gsap.from(n,h)})})}else if("text_move"===this.getElementSettings("wk_text_animation")){var p=this.getElementSettings("text_duration"),_=this.getElementSettings("text_delay"),f=this.getElementSettings("text_stagger"),u=this.getElementSettings("text_on_scroll"),x=this.getElementSettings("text_rotation_di"),S=this.getElementSettings("text_rotation"),E=this.getElementSettings("spin_text_scrub"),y=this.getElementSettings("text_transform_origin"),w={};m=this.findElement(".elementor-widget-container").children().length;(d=t(this.findElement(".elementor-widget-container").children()[m-1])).hasClass("wk--text")&&d.children().length&&(d=d.children()),E="number"==typeof E?this.getElementSettings("wk_pin_scrub_number"):"yes"===E;h={duration:p,delay:_,opacity:0,force3D:!0,transformOrigin:y,stagger:f};if("x"===x?h.rotationX=S:"y"===x&&(h.rotationY=S),u&&(w.scrollTrigger={trigger:d,duration:2,start:"top 90%",end:"bottom 60%",scrub:E,toggleActions:"play none none none"}),"all"===r){var v=gsap.timeline(w),b=new SplitText(d,{type:"lines"});gsap.set(d,{perspective:400}),b.split({type:"lines"}),v.from(b.lines,h)}else i.add("("+r+")",function(){var t=gsap.timeline(w),e=new SplitText(d,{type:"lines"});return gsap.set(d,{perspective:400}),e.split({type:"lines"}),t.from(e.lines,h),function(){e.revert(),t.revert()}})}else if("text_reveal"===this.getElementSettings("wk_text_animation")){var k=this.getElementSettings("text_duration"),T=this.getElementSettings("text_on_scroll"),F=this.getElementSettings("text_stagger"),A=this.getElementSettings("text_delay"),C=this.getElementSettings("spin_text_scrub");m=this.findElement(".elementor-widget-container").children().length,d=t(this.findElement(".elementor-widget-container").children()[m-1]);C="number"==typeof C?this.getElementSettings("wk_pin_scrub_number"):"yes"===C;b=new SplitText(d,{type:"lines,words,chars",linesClass:"anim-reveal-line"});var H={duration:k,delay:A,ease:"circ.out",y:80,stagger:F,opacity:0};T&&(H.scrollTrigger={trigger:d,start:"top 85%",scrub:C}),"all"===r?gsap.from(b.chars,H):i.add("("+r+")",function(){return gsap.from(b.chars,H),function(){b.revert()}})}else if("text_invert"===this.getElementSettings("wk_text_animation")){m=this.findElement(".elementor-widget-container").children().length;var O=(d=t(this.findElement(".elementor-widget-container").children()[m-1])).css("color");if(O=(O=function(t,e,n){t/=255,e/=255,n/=255;var i=Math.max(t,e,n),r=Math.min(t,e,n),s=i-r,a=0;s&&(a=i===t?(e-n)/s:i===e?2+(n-t)/s:4+(t-e)/s,(a*=60)<0&&(a+=360));var l=(i+r)/2,o=s?l<=.5?s/(2*l):s/(2-2*l):0;return[a.toFixed(1),(100*o).toFixed(1)+"%",(100*l).toFixed(1)+"%"]}((O=O.toString().match(/(\d+)/g))[0],O[1],O[2]))[0]+", "+O[1]+", "+O[2],d.css("--text-color",O),"all"===r)(b=new SplitText(d,{type:"lines",linesClass:"invert-line"})).lines.forEach(function(t){gsap.to(t,{backgroundPositionX:0,ease:"none",scrollTrigger:{trigger:t,scrub:1,start:"top 85%",end:"bottom center"}})});else i.add("("+r+")",function(){var t=new SplitText(d,{type:"lines",linesClass:"invert-line"});return t.lines.forEach(function(t){gsap.to(t,{backgroundPositionX:0,ease:"none",scrollTrigger:{trigger:t,scrub:1,start:"top 85%",end:"bottom center"}})}),function(){t.revert()}})}else if("text_spin"===this.getElementSettings("wk_text_animation")){var X=function(){var n=e.getElementSettings("text_on_scroll"),i=e.findElement(".elementor-widget-container").children().length,r=t(e.findElement(".elementor-widget-container").children()[i-1]),s=r[0].cloneNode(!0);t(s).addClass("duplicate-text"),r.css({perspective:"600px","white-space":"nowrap"}),t(s).css({perspective:"600px","white-space":"nowrap"});var a=e.findElement(".elementor-widget-container")[0];if(r.after(s),gsap.set(s,{yPercent:-100}),a.originalSplit=SplitText.create(r,{type:"chars"}),a.cloneSplit=SplitText.create(s,{type:"chars"}),n){var l={trigger:e.$element,animation:M(a),invalidateOnRefresh:!0},o={start:e.getElementSettings("spin_text_start"),end:e.getElementSettings("spin_text_end"),scrub:"yes"===e.getElementSettings("spin_text_scrub"),toggleActions:e.getElementSettings("spin_text_toggle_action")};Object.assign(l,o),ScrollTrigger.create(l)}else M(a)},M=function(t){var n=e.getElementSettings("text_delay"),i={each:.03,ease:"power1",from:"start"};gsap.set(t.cloneSplit.chars,{opacity:0});var r=gsap.timeline();return r.set(t.cloneSplit.chars,{rotationX:-90,transformOrigin:function(){return"50% 50% -"+t.offsetHeight/2}}),r.to(t.originalSplit.chars,{delay:n,duration:.4,rotationX:90,transformOrigin:function(){return"50% 50% -"+t.offsetHeight/2},stagger:i}),r.to(t.originalSplit.chars,{duration:.4,delay:n,opacity:0,stagger:i,ease:"power2.in"},0),r.to(t.cloneSplit.chars,{duration:.001,delay:n,opacity:1,stagger:i},.001),r.to(t.cloneSplit.chars,{duration:.4,delay:n,rotationX:0,stagger:i},0),r};"all"===r?X():i.add("("+r+")",function(){X()})}else if("text_scale"===this.getElementSettings("wk_text_animation")){var P=this.getElementSettings("text_delay"),$=this.getElementSettings("text_duration"),j=this.getElementSettings("text_on_scroll"),B=this.getElementSettings("text_stagger"),D=this.getElementSettings("text_scale_num"),N=this.getElementSettings("spin_text_scrub"),Q=this.getElementSettings("scale_text_ease"),R=this.getElementSettings("text_scale_break");d=this.findElement(".elementor-widget-container").find(":not(span.highlight)").last()[0];N="number"==typeof N?this.getElementSettings("wk_pin_scrub_number"):"yes"===N;var Y=(b=new SplitText(d,{type:"lines words chars",linesClass:"text-scale-anim"}))[R];if(!Y.length)return;var q={duration:$,autoAlpha:0,scale:D,stagger:B,transformOrigin:"50% 0%",ease:Q,delay:P};j&&(q.scrollTrigger={trigger:d,start:"top 85%",scrub:N}),"all"===r?gsap.from(Y,q):i.add("("+r+")",function(){return gsap.from(Y,q),function(){b.revert()}})}}}});elementorFrontend.hooks.addAction("frontend/element_ready/widget",function(t){elementorFrontend.elementsHandler.addHandler(r,{$element:t})}),elementorFrontend.hooks.addAction("frontend/element_ready/container",function(t){elementorFrontend.elementsHandler.addHandler(r,{$element:t})})}}})}(jQuery);